html, body { width:100%; height:100%; margin:0; padding:0; overflow-x:hidden; }
body { 
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif; 
    background:#1e1f24; 
    color:#eee; 
    -webkit-font-smoothing:antialiased;
    -webkit-text-size-adjust:100%;
    text-rendering:optimizeLegibility;
}
header { 
    padding:10px 16px; 
    background:#282a30; 
    position:-webkit-sticky;
    position:sticky; 
    top:0; 
    display:-webkit-flex;
    display:flex; 
    -webkit-align-items:center;
    align-items:center; 
    gap:12px; 
    z-index:10; 
    -webkit-transform:translateZ(0);
    transform:translateZ(0);
}
h1 { font-size:18px; margin:0; letter-spacing:.5px; }
#tree { 
    padding:12px 18px 90px 18px; 
    line-height:1.45; 
    font-size:15px;
    -webkit-overflow-scrolling:touch;
}
ul { list-style:none; margin:0; padding-left:16px; }
.dir > .label { cursor:pointer; user-select:none; display:flex; align-items:center; gap:6px; padding:4px 2px; position:relative; }
.dir.collapsed > ul { display:none; }
.dir > .label .arrow { width:12px; display:inline-block; transition:transform .18s ease; font-size:10px; opacity:.8; }
.dir.collapsed > .label .arrow { transform:rotate(-90deg); }
.file { cursor:pointer; padding:6px 2px 6px 2px; border-radius:4px; }
.file:hover, .dir > .label:hover { background:#323842; }
.playing { color:#4fd1a5; font-weight:600; }
.toolbar { 
    margin-left:auto; 
    display:-webkit-flex;
    display:flex; 
    gap:10px;
    -webkit-flex-wrap:nowrap;
    flex-wrap:nowrap;
}
button { 
    background:#3a3f46; 
    color:#eee; 
    border:1px solid #555; 
    border-radius:6px; 
    padding:6px 14px; 
    cursor:pointer; 
    font-size:13px; 
    line-height:1.2;
    -webkit-appearance:none;
    appearance:none;
    -webkit-tap-highlight-color:transparent;
    -webkit-touch-callout:none;
}
#shuffleBtn[data-on="1"] { background:#4fd1a5; color:#111; }
button:active { 
    -webkit-transform:translateY(1px);
    transform:translateY(1px); 
}
button:hover { background:#4a5058; }
.empty { opacity:.5; font-style:italic; }
#playerBar { 
    position:fixed; 
    bottom:0; 
    left:0; 
    right:0; 
    background:#202328; 
    border-top:1px solid #333; 
    padding:8px 14px; 
    font-size:14px; 
    display:-webkit-flex;
    display:flex; 
    -webkit-align-items:center;
    align-items:center; 
    min-height:50px; 
    box-shadow:0 -2px 4px rgba(0,0,0,0.4);
    -webkit-transform:translateZ(0);
    transform:translateZ(0);
}
#nowPlaying { 
    white-space:nowrap; 
    overflow:hidden; 
    text-overflow:ellipsis; 
    max-width:100%;
    -webkit-user-select:text;
    user-select:text;
}
.dir > .label, .file { 
    -webkit-tap-highlight-color:transparent;
    -webkit-touch-callout:none;
    -webkit-user-select:none;
    user-select:none;
    overflow:hidden; 
    text-overflow:ellipsis; 
    white-space:nowrap;
}

#playerProgress { position:fixed; left:0; right:0; bottom:0; height:3px; background:#111; z-index:30; }
#playerProgressFill { height:100%; width:0%; background:linear-gradient(90deg,#4fd1a5,#3ba4d9); transition:width .4s ease; }

.toolbar button { min-width:42px; padding:6px 10px; }

.volWrap { margin-left:auto; display:flex; align-items:center; gap:6px; padding-left:12px; }
#volSlider { width:140px; accent-color:#4fd1a5; }

@media (max-width: 680px) {
	header { flex-wrap:wrap; padding:8px 12px; }
	h1 { font-size:16px; flex:1 0 100%; }
	#tree { padding:8px 12px 100px 12px; font-size:16px; }
	.toolbar { width:100%; justify-content:space-between; }
	button { flex:1; font-size:14px; padding:10px 0; }
	.file { padding:10px 4px; }
	.dir > .label { padding:8px 2px; }
	#playerBar { font-size:15px; }
}
