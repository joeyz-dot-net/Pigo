[app]
music_dir = Z:
allowed_extensions = .mp3,.wav,.flac,.aac,.m4a
server_host = 0.0.0.0
server_port = 80
debug = true
mpv_cmd = c:\mpv\mpv.exe --input-ipc-server=\\.\pipe\mpv-pipe --idle=yes --force-window=no --ao=wasapi --audio-device=wasapi/{d90d29b4-4976-44b8-900f-915b7d2bc58c}
default_stream_format = aac
local_search_max_results = 20
youtube_search_max_results = 20
local_volume = 0.1
stream_volume = 10
; enable_stream 已移除 - 推流开关由启动时交互选择决定（不再从配置文件读取）

[paths]
ffmpeg_path = ffmpeg
yt_dlp_path = yt-dlp

[ffmpeg]
rtbufsize = 8M
thread_queue_size = 256
bufsize = 64K
segment_time = 10
max_delay = 5

[stream]
keepalive_threshold = 2.0
keepalive_chunk_size = 128
broadcast_queue_maxsize = 8192
broadcast_executor_workers = 120

[formats]
mp3 = libmp3lame,128k,,192,1.0,1.0
aac = aac,196k,aac_low,128,0.5,1.5
flac = flac,,,256,1.0,0.8

[browser_configs]
safari = 512,50,20,512
chrome = 64,1000,40,128
firefox = 64,1000,40,128
edge = 64,1000,40,128

[browser_format_overrides]
safari_mp3 = 512,192,20


safari_aac = 768,128,15
safari_flac = 256,256,20
chrome_mp3 = 64,192,40
chrome_aac = 96,128,35
chrome_flac = 32,256,40
firefox_mp3 = 64,192,40
firefox_aac = 96,128,35
firefox_flac = 32,256,40
edge_mp3 = 64,192,40
edge_aac = 96,128,35
edge_flac = 32,256,40

[logging]
; 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
level = WARNING
; 采样率: 高频请求日志采样比例 (0.0-1.0)
polling_sample_rate = 0.1
; 高频请求路由列表（逗号分隔）
filtered_paths = /status,/stream/status,/volume
; 心跳日志输出间隔（秒）- 防止日志刷屏
heartbeat_log_interval = 10



