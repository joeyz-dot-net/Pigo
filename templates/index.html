<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=yes,viewport-fit=cover" />
	
	<!-- Primary Metadata -->
	<title>YouTube音乐点播 上麦可选高音质</title>
	<meta name="description" content="音乐点播系统，支持串流" />
	<meta name="keywords" content="音乐,点播,串流,mp3,flac,wav" />
	
	<!-- Open Graph -->
	<meta property="og:type" content="website" />
	<meta property="og:title" content="YouTube音乐点播 上麦可选高音质" />
	<meta property="og:site_name" content="YouTube音乐点播 上麦可选高音质" />
	<meta property="og:url" content="{{ request.url }}" />
	<meta property="og:description" content="音乐点播系统，支持YouTube串流" />
	<meta property="og:image" content="/static/images/preview.png" />
	<meta property="og:image:secure_url" content="/static/images/preview.png" />
	<meta property="og:image:width" content="1200" />
	<meta property="og:image:height" content="630" />
	<meta property="og:image:alt" content="YouTube音乐点播 上麦可选高音质预览图" />
	<link rel="image_src" href="/static/images/preview.png" />
	<!-- Favicon -->
	<link rel="icon" type="image/x-icon" href="/static/images/favicon.ico" />
	<link rel="shortcut icon" href="/static/images/favicon.ico" />
	<!-- Twitter / Summary card -->
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="YouTube音乐点播 上麦可选高音质" />
	<meta name="twitter:description" content="音乐点播系统，支持YouTube串流" />
	<meta name="twitter:image" content="/static/images/preview.png" />
	<meta property="og:image:width" content="1200" />
	<meta property="og:image:height" content="630" />
	<meta property="og:locale" content="en_US" />
	
	<!-- Clubhouse Frames -->
	<meta property="fc:frame" content="vNext" />
	<meta property="fc:frame:image" content="/static/images/preview.png" />
	<meta property="fc:frame:image:aspect_ratio" content="1.91:1" />
	<meta property="fc:frame:button:1" content="进入点播" />
	<meta property="fc:frame:button:1:action" content="post_redirect" />
	<meta property="fc:frame:button:1:target" content="{{ request.url }}" />
	<meta property="fc:frame:post_url" content="{{ request.url }}" />
	
	<!-- iOS/Mobile -->
	<meta name="mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-title" content="音乐点播" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="theme-color" content="#1e1f24" />
	
	<!-- Compatibility -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="renderer" content="webkit" />
	<!-- CSS Stylesheets -->
	<link rel="stylesheet" href="/static/css/base.css?v=1" />
	<!-- 调试面板模块 CSS -->
	<!-- 主题 CSS 将由 themeManager 动态加载 -->
	<link rel="stylesheet" href="/static/css/responsive.css?v=1" />
	<!-- 设置面板 CSS -->
	<link rel="stylesheet" href="/static/css/settings.css?v=1" />
	<style>
		.footer {
			height: calc(100% - (2/5 * 100%));
		}
	</style>
</head>
<body>
	<script id="boot-data" type="application/json">{{ {'tree': tree, 'musicDir': music_dir}|tojson }}</script>
	<main id="tree" class="tab-content local-tab bright-theme" aria-label="文件列表"></main>
	<div id="playlist" class="tab-content playlist-tab" aria-label="播放列表">
		
		<div id="youtubeSearchResults" class="youtube-search-results" style="display:none;">
			<h4 class="youtube-search-title">搜索结果</h4>
			<div id="youtubeSearchList" class="youtube-search-list"></div>
		</div>
		
		<div class="play-list-section" id="playListSection">
			<div class="play-list-header" style="display: flex; align-items: center; justify-content: space-between; gap: 15px;">
				<h3 class="play-list-title" id="playListTitle">当前播放列表</h3>
				<div id="streamProgressBarContainer" style="flex: 1; min-width: 100px;"></div>
			</div>
			<div id="playListContainer" class="play-list-container"></div>
		</div>
		<!-- YouTube搜索结果模态框 -->
		<div id="youtubeSearchModal" class="youtube-search-modal" style="display:none;">
			<div class="youtube-search-modal-content">
				<div class="youtube-search-modal-header">
					<h3>搜索结果</h3>
					<button class="youtube-search-modal-close" data-icon="✕">✕</button>
				</div>
				<div class="youtube-search-modal-body">
					<div id="youtubeSearchModalList" class="youtube-search-modal-list"></div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- Full Screen Player Modal -->
	<div id="fullPlayer" class="full-player" style="display:none;">
		<div class="full-player-content">
			<!-- Header with back arrow -->
			<div class="full-player-header">
				<button class="full-player-back" id="fullPlayerBack">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
						<path d="M19 9l-7 7-7-7"/>
					</svg>
				</button>
			</div>
			
			<!-- Album Art -->
			<div class="full-player-artwork">
				<div class="full-player-artwork-container">
					<img id="fullPlayerCover" src="" alt="专辑封面" onerror="this.style.display='none';" loading="eager" decoding="async" />
					<div class="full-player-artwork-placeholder" id="fullPlayerPlaceholder">🎵</div>
				</div>
			</div>

			<!-- Song Info -->
			<div class="full-player-info">
				<div class="full-player-title" id="fullPlayerTitle">未播放</div>
				
				<div class="full-player-playlist" id="fullPlayerPlaylist">默认歌单</div>
			</div>

			<!-- Progress Bar -->
			<div class="full-player-progress-section">
				<div class="full-player-progress-bar" id="fullPlayerProgressBar">
					<div class="full-player-progress-fill" id="fullPlayerProgressFill"></div>
					<div class="full-player-progress-thumb" id="fullPlayerProgressThumb"></div>
				</div>
				<div class="full-player-time">
					<span id="fullPlayerCurrentTime">0:00</span>
					<span id="fullPlayerDuration">0:00</span>
				</div>
			</div>

			<!-- Controls -->
			<div class="full-player-controls">
				<button class="full-player-control-btn full-player-shuffle" id="fullPlayerShuffle" title="随机播放">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M16 3h5v5M4 20L21 3M21 16v5h-5M15 15l6 6M4 4l5 5"/>
					</svg>
				</button>
				<button class="full-player-control-btn full-player-prev" id="fullPlayerPrev" title="上一首">
					<svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
						<path d="M16 6h2v12h-2V6zM8 12l8.5-6v12L8 12z"/>
					</svg>
				</button>
				<button class="full-player-control-btn full-player-play-pause" id="fullPlayerPlayPause" title="播放/暂停">
					<svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
						<path d="M8 5v14l11-7z"/>
					</svg>
				</button>
				<button class="full-player-control-btn full-player-next" id="fullPlayerNext" title="下一首">
					<svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
						<path d="M6 6h2v12H6V6zm10 6l-8.5 6V6L16 12z"/>
					</svg>
				</button>
				<button class="full-player-control-btn full-player-repeat" id="fullPlayerRepeat" title="循环模式">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M17 1l4 4-4 4M3 11V9a4 4 0 0 1 4-4h14M7 23l-4-4 4-4M21 13v2a4 4 0 0 1-4 4H3"/>
					</svg>
				</button>
			</div>

			<!-- Volume Control -->
			<div class="full-player-volume">
				<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
					<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>
				</svg>
				<div class="full-player-volume-slider">
						<input type="range" id="fullPlayerVolumeSlider" min="0" max="130" value="50" />
				</div>
				<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
					<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
				</svg>
			</div>

		</div>
	</div>

	<!-- Mini Player -->
	<div id="miniPlayer" class="mini-player">
		<div class="mini-player-content">
			<div class="mini-player-info">
				<div class="mini-player-cover">
					<img id="miniPlayerCover" src="" alt="" style="display:none;" />
					<div class="mini-player-cover-placeholder">🎵</div>
				</div>
				<div class="mini-player-text">
					<div class="mini-player-title" id="miniPlayerTitle">未播放</div>
				</div>
			</div>
			<div class="mini-player-controls">
				<button id="miniPlayPauseBtn" class="mini-control-btn" title="播放/暂停">▶</button>
				<button id="miniNextBtn" class="mini-control-btn" title="下一首">⏭</button>
			</div>
		</div>
		<div class="mini-player-progress">
			<div id="miniPlayerProgressFill" class="mini-player-progress-fill"></div>
		</div>
	</div>
	
	<!-- Bottom Navigation -->
	<nav id="bottomNav" class="bottom-nav">
		<button class="nav-item active" data-tab="playlists">
			<span class="nav-icon">📋</span>
			<span class="nav-label">队列</span>
		</button>
		<button class="nav-item" data-tab="local">
			<span class="nav-icon">🎵</span>
			<span class="nav-label">本地</span>
		</button>
		<button class="nav-item" data-tab="ranking">
			<span class="nav-icon">🏆</span>
			<span class="nav-label">排行</span>
		</button>
		<button class="nav-item" data-tab="search">
			<span class="nav-icon">🔍</span>
			<span class="nav-label">搜索</span>
		</button>
		<button class="nav-item" id="settingsNavBtn" title="设置">
			<span class="nav-icon">⚙️</span>
			<span class="nav-label">设置</span>
		</button>
		<button class="nav-item" id="debugBtn" title="调试面板">
			<span class="nav-icon">🐛</span>
			<span class="nav-label">调试</span>
		</button>
	</nav>
	
	<footer id="playerBar" class="footer-collapsed" style="display:none;">
		<button id="footerExpandBtn" class="footer-expand-btn" title="展开控制栏" style="display:flex;align-items:center;justify-content:center;width:40px;height:40px;margin:0 auto;background:transparent;border:none;font-size:28px;cursor:pointer;">
			⋯
		</button>
		<div id="playerProgress" aria-hidden="true">
			<div id="playerProgressFill"></div>
			<div id="playerProgressThumb"></div>
		</div>
		<div id="footerContent" class="footer-content">
			<div class="footer-controls-wrapper">
			<div class="footer-controls-left">
				<button id="loopBtn" class="control-btn loop-btn" data-icon="↻" title="循环模式">↻</button>
				<button id="prevBtn" class="control-btn" data-icon="⼮" title="上一首">⏮</button>
			</div>
				<button id="playPauseBtn" class="control-btn play-pause-large" data-icon="▶" title="播放/暂停">▶</button>
			<div class="footer-controls-right">
				<button id="nextBtn" class="control-btn" data-icon="⏭" title="下一首">⏭</button>
				
				<button id="volumePopupBtn" class="control-btn" data-icon="🔊" title="音量">🔊</button>
			</div>
			</div>
		</div>
		<!-- Volume popup slider - entire popup is the slider -->
		<div id="volumePopup" class="volume-popup" style="display:none;">
			<div id="volumeSliderTrack" class="volume-slider-track">
				<div id="volumeSliderFill" class="volume-slider-fill"></div>
				<div id="volumeSliderThumb" class="volume-slider-thumb"></div>
			</div>
		</div>
	</footer>
	
	<!-- History modal -->
	<div id="historyModal" class="history-modal" style="display:none;">
		<div class="history-modal-content">
			<div class="history-modal-header">
				<h3>播放历史</h3>
				<button class="history-modal-close" data-icon="✕">✕</button>
			</div>
			<div class="history-modal-list" id="historyList"></div>
		</div>
	</div>

	<!-- Local songs modal -->
	<div id="localSongsModal" class="history-modal" style="display:none;">
		<div class="history-modal-content">
			<div class="history-modal-header">
				<h3>本地歌曲</h3>
				<button class="local-songs-modal-close" data-icon="✕">✕</button>
			</div>
			<div class="history-modal-list" id="localSongsModalBody"></div>
		</div>
	</div>

	<!-- Search Modal -->
	<div id="searchModal" class="search-modal" style="display:none;">
		<div class="search-modal-overlay"></div>
		<div class="search-modal-content">
			<div class="search-modal-header">
				<button class="search-modal-back" id="searchModalBack">✕</button>
				<input type="text" id="searchModalInput" class="search-modal-input" placeholder="搜索歌曲、艺术家..." autocomplete="off" />
			</div>
			<div id="searchModalHistory" class="search-modal-history" style="display:none;">
				<div id="searchModalHistoryList" class="search-modal-history-list"></div>
				<div class="search-modal-history-actions">
					<button id="searchModalHistoryClear" class="search-modal-history-clear" type="button">
						<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6v12c0 1.1.9 2 2 2h4c1.1 0 2-.9 2-2V6m-5-3h6"></path></svg>
						清空历史
					</button>
				</div>
			</div>
			<div class="search-modal-body" id="searchModalBody">
				<div class="search-suggestions">
					<div class="search-placeholder">
						<span class="search-placeholder-icon">🔍</span>
						<p>搜索串流音乐</p>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Currently Playing Modal -->
	<div id="nowPlayingModal" class="now-playing-modal" style="display:none;">
		<div class="now-playing-content">
			<div class="now-playing-header">
				<div class="now-playing-header-left">
					<button class="now-playing-close" id="nowPlayingClose">
						<svg width="20" height="20" viewBox="0 0 20 20">
							<path d="M10 8.586L3.707 2.293 2.293 3.707 8.586 10l-6.293 6.293 1.414 1.414L10 11.414l6.293 6.293 1.414-1.414L11.414 10l6.293-6.293-1.414-1.414L10 8.586z" fill="currentColor"/>
						</svg>
					</button>
					<div class="now-playing-status">
						
					</div>
				</div>
				<button class="now-playing-menu-btn">⋯</button>
			</div>

			<div class="now-playing-body">
				<!-- Current Playing Card -->
				<div class="now-playing-current-card">
					<div class="current-card-cover">
						<img id="nowPlayingCover" src="" alt="" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
						<div class="current-card-cover-placeholder">🎵</div>
					</div>
					<div class="current-card-info">
						<div class="current-card-badge">
							<span class="badge-icon">🔥</span>
							<span class="badge-text">CURRENTLY PLAYING</span>
						</div>
						<div class="current-card-title" id="nowPlayingTitle">未播放</div>
						<div class="current-card-subtitle" id="nowPlayingSubtitle">--</div>
						<div class="current-card-meta">
							<span id="nowPlayingTrackInfo">Track 1 of 1</span>
						</div>
						<!-- 当前歌单名称显示 -->
						<div class="current-playlist-name" id="currentPlaylistName" style="font-weight:bold;font-size:1.1em;margin:8px 0 0 0;color:#2a7;">歌单：--</div>
						<div class="current-card-next" id="nowPlayingNext">▶ NEXT</div>
					</div>
					<button class="current-card-menu">☰</button>
				</div>

				<!-- Queue List -->
				<div class="now-playing-queue">
					<div id="nowPlayingQueueList" class="now-playing-queue-list"></div>
				</div>
			</div>

			<div class="now-playing-controls">
				<div class="now-playing-progress">
					<span class="progress-time" id="nowPlayingCurrentTime">0:00</span>
					<div class="progress-bar-container">
						<div class="progress-bar-track">
							<div class="progress-bar-fill" id="nowPlayingProgressFill"></div>
							<div class="progress-bar-thumb" id="nowPlayingProgressThumb"></div>
						</div>
					</div>
					<span class="progress-time" id="nowPlayingDuration">0:00</span>
				</div>
				<div class="now-playing-buttons">
					<button class="control-btn-large" id="nowPlayingShuffleBtn" title="随机播放">
						<svg width="24" height="24" viewBox="0 0 24 24">
							<path d="M10.59 9.17L6.12 4.7A1 1 0 0 0 4.7 6.12l4.47 4.47 1.42-1.42zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z" fill="currentColor"/>
						</svg>
					</button>
					<button class="control-btn-large" id="nowPlayingPrevBtn" title="上一首">
						<svg width="28" height="28" viewBox="0 0 24 24">
							<path d="M6 6h2v12H6V6zm3.5 6l8.5 6V6l-8.5 6z" fill="currentColor"/>
						</svg>
					</button>
					<button class="control-btn-play" id="nowPlayingPlayBtn" title="播放/暂停">
						<svg width="32" height="32" viewBox="0 0 24 24">
							<path d="M8 5v14l11-7z" fill="currentColor"/>
						</svg>
					</button>
					<button class="control-btn-large" id="nowPlayingNextBtn" title="下一首">
						<svg width="28" height="28" viewBox="0 0 24 24">
							<path d="M6 18l8.5-6L6 6v12zm10-12v12h2V6h-2z" fill="currentColor"/>
						</svg>
					</button>
					<button class="control-btn-large" id="nowPlayingRepeatBtn" title="循环模式">
						<svg width="24" height="24" viewBox="0 0 24 24">
							<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z" fill="currentColor"/>
						</svg>
					</button>
				</div>
				<div class="now-playing-secondary">
					<button class="secondary-btn" title="歌词">
						<svg width="20" height="20" viewBox="0 0 24 24">
							<path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" fill="currentColor"/>
						</svg>
					</button>
					<button class="secondary-btn" title="隔空播放">
						<svg width="20" height="20" viewBox="0 0 24 24">
							<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="currentColor"/>
						</svg>
					</button>
					<button class="secondary-btn" title="列表">
						<svg width="20" height="20" viewBox="0 0 24 24">
							<path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z" fill="currentColor"/>
						</svg>
					</button>
				</div>
			</div>
		</div>
	</div>
	
	<!-- 歌单选择模态框 -->
	<div id="playlistsModal" class="playlists-modal" style="display:none;">
		<div class="playlists-modal-content">
			<div class="playlists-modal-header">
				<button class="playlists-back-btn" id="playlistsBackBtn">
					<svg width="24" height="24" viewBox="0 0 24 24">
						<path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" fill="currentColor"/>
					</svg>
				</button>
				<h2>我的歌单</h2>
				<button class="playlists-add-btn" id="playlistsAddBtn">
					<svg width="24" height="24" viewBox="0 0 24 24">
						<path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="currentColor"/>
					</svg>
				</button>
			</div>
			<div class="playlists-modal-body" id="playlistsModalBody">
				<!-- 歌单列表将在这里动态生成 -->
			</div>
		</div>
	</div>

	<!-- 排行榜 Modal -->
	<div id="rankingModal" class="modal" style="display:none;">
		<div class="modal-content ranking-modal-content">
			<div class="modal-header">
				<button class="ranking-modal-close" id="rankingModalClose">✕</button>
				<h2 class="modal-title">播放排行榜</h2>
			</div>
			<div class="ranking-tabs">
				<button class="ranking-tab active" data-period="all">全部</button>
				<button class="ranking-tab" data-period="today">本日</button>
				<button class="ranking-tab" data-period="week">本周</button>
				<button class="ranking-tab" data-period="month">本月</button>
			</div>
			<div class="ranking-modal-body" id="rankingModalBody">
				<!-- 排行榜列表将在这里动态生成 -->
			</div>
		</div>
	</div>

	<!-- Debug Modal -->
	<div id="debugModal" class="modal" style="display:none;">
		<div class="modal-content" style="overflow-y: auto;">
			<div class="modal-header">
				<h3>🐛 调试面板</h3>
				<button class="modal-close" id="debugModalClose">✕</button>
			</div>
			<div class="modal-body" style="padding: 20px; font-family: monospace; font-size: 12px;">
				<div id="debugContent">
				
					<div style="margin-bottom: 20px;">
						<h4>推流控制</h4>
						<div style="display: flex; gap: 10px; flex-wrap: wrap;">
							<button id="startStreamBtn" style="padding: 10px 16px; background: #4CAF50; color: white; border: 2px solid #45a049; border-radius: 4px; cursor: pointer; font-weight: bold;">▶️ 开启推流</button>
							<button id="stopStreamBtn" style="padding: 10px 16px; background: #f44336; color: white; border: 2px solid #da190b; border-radius: 4px; cursor: pointer; font-weight: bold;">⏹️ 停止推流</button>
						</div>
						<p style="margin-top: 10px; color: #aaa;">推流状态: <span id="streamStatusDisplay" style="color: #f44336;">●</span> <span id="streamStatusText">未激活</span></p>
						<div style="margin-top: 10px; padding: 10px; background: #1a1a1a; border-radius: 4px;">
							<div style="color: #51cf66; font-size: 12px; line-height: 1.6;">
								<div>📊 <span id="streamSpeed">速度: -- KB/s</span></div>
								<div>📈 <span id="streamTotal">总数据: -- MB</span></div>
								<div>⏱️ <span id="streamDuration">用时: -- s</span></div>
								<div>👥 <span id="streamClients">活跃客户端: --</span></div>
								<div>🎵 <span id="streamFormat">格式: --</span></div>
							
							
							</div>
						</div>
					</div>
					<div style="margin-bottom: 20px;">
						<h4>播放器状态</h4>
						<div id="debugPlayer" style="background: #1a1a1a; padding: 10px; border-radius: 4px; overflow-x: auto;"></div>
					</div>
					<div style="margin-bottom: 20px;">
						<h4>歌单信息</h4>
						<div id="debugPlaylist" style="background: #1a1a1a; padding: 10px; border-radius: 4px; overflow-x: auto;"></div>
					</div>
					<div style="margin-bottom: 20px;">
						<h4>本地存储</h4>
						<div id="debugStorage" style="background: #1a1a1a; padding: 10px; border-radius: 4px; overflow-x: auto;"></div>
					</div>
					<div style="margin-bottom: 20px;">
						<h4>日志设置</h4>
						<div style="display: flex; gap: 10px; align-items: center;">
							<label style="display: flex; align-items: center; gap: 8px; cursor: pointer; color: #aaa;">
								<input type="checkbox" id="logToggle" style="cursor: pointer; width: 18px; height: 18px;" checked>
								<span>显示控制台日志</span>
							</label>
							<button id="debugClearLogs" style="padding: 8px 16px; background: #ff6b6b; color: white; border: none; border-radius: 4px; cursor: pointer;">清空日志</button>
						</div>
					</div>
					<div style="margin-bottom: 20px;">
						<h4>控制台日志</h4>
						<div id="debugLogs" style="background: #1a1a1a; padding: 10px; border-radius: 4px; max-height: 300px; overflow-y: auto;"></div>
					</div>
					<button id="debugRefresh" style="padding: 8px 16px; background: #667eea; color: white; border: none; border-radius: 4px; cursor: pointer;">刷新</button>
				
					<div style="margin-bottom: 20px;">
						<h4>主题设置</h4>
						<div style="display: flex; gap: 10px;">
							<button id="themeDarkBtn" style="padding: 8px 16px; background: #333; color: white; border: 2px solid #667eea; border-radius: 4px; cursor: pointer; font-weight: bold;">🌙 暗色</button>
							<button id="themeLightBtn" style="padding: 8px 16px; background: #e0e0e0; color: #333; border: 2px solid #999; border-radius: 4px; cursor: pointer;">☀️ 亮色</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>



	<script type="module" src="/static/js/main.js?v=18"></script>
	
	<!-- 浏览器推流音频播放器（隐藏） -->
	<audio id="browserStreamAudio" style="display: none;" crossorigin="anonymous" controls="false" autoplay="false"></audio>

	<!-- 调试面板模块 HTML 模板（由 debug-panel.module.js 动态创建） -->
	<template id="debugPanelTemplate">
		<!-- 模板内容由 JS 模块动态生成 -->
	</template>

	<!-- 设置面板 -->
	<div id="settingsPanel" class="settings-panel" style="display: none;">
		<!-- 设置面板背景遮罩 -->
		<div id="settingsMask" class="settings-mask"></div>
		
		<!-- 设置面板容器 -->
		<div class="settings-container">
			<!-- 顶部标题栏 -->
			<div class="settings-header">
				<h2 class="settings-title">⚙️ 设置</h2>
				<button id="settingsCloseBtn" class="settings-close-btn" title="关闭">✕</button>
			</div>
			
			<!-- 设置内容 -->
			<div class="settings-content">
				<!-- 主题设置 -->
				<div class="settings-section">
					<h3 class="section-title">🎨 外观设置</h3>
					
					<div class="settings-item">
						<label class="settings-label">主题样式</label>
						<select id="themeSetting" class="settings-select">
							<option value="dark">深色主题</option>
							<option value="light">浅色主题</option>
							<option value="auto">自动</option>
						</select>
					</div>
					
					<div class="settings-item">
						<label class="settings-label">语言</label>
						<select id="languageSetting" class="settings-select">
							<option value="auto">自动选择</option>
							<option value="zh">中文 (Chinese)</option>
							<option value="en">English</option>
						</select>
					</div>
				</div>
				
				<!-- 推流设置 -->
				<div class="settings-section">
					<h3 class="section-title">🎵 推流设置</h3>
					
					<div class="settings-item">
						<label class="settings-label">接收推流</label>
						<div class="settings-toggle">
							<input type="checkbox" id="autoStreamSetting" class="toggle-checkbox">
							<label for="autoStreamSetting" class="toggle-label">
								<span class="toggle-switch"></span>
								<span class="toggle-text">
									<span class="toggle-on">启用</span>
									<span class="toggle-off">禁用</span>
								</span>
							</label>
						</div>
					</div>
					
					<div class="settings-item">
						<label class="settings-label">推流音量</label>
						<div class="settings-volume">
							<input type="range" id="streamVolumeSetting" class="volume-slider" min="0" max="100" value="50">
							<span id="streamVolumeValue" class="volume-value">50%</span>
						</div>
					</div>
				</div>
			</div>
			
			<!-- 底部操作栏 -->
			<div class="settings-footer">
				<button id="resetSettingsBtn" class="settings-btn settings-btn-reset">
					🔄 重置为默认
				</button>
				<button id="saveSettingsBtn" class="settings-btn settings-btn-save">
					✓ 保存设置
				</button>
			</div>
		</div>
	</div>

</body>
</html>